{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Case",
  "description": "An Ebola case registered by the call centre",
  "type": "object",
  "properties": {

    "doc_type": { "type": "string", "pattern": "^case$" },

    "version": { "type": "string", "format": "semver" },

    "referenceNo": { "type": "string" },

    "changeLog": { "$ref": "#/definitions/changeLog" },
    "contact": { "$ref": "#/definitions/contact" },
    "patient": { "$ref": "#/definitions/patient" },
    "response": { "$ref": "#/definitions/response" }
  },

  "definitions": {

    "changeLog": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "rev": { "type": "string" },
          "timestamp": { "type": "integer" },
          "user": { "type": "string" }
        }
      }
    },
    "contact": {
      "type": "object"
    },
    "patient": {
      "type": "object"
    },
    "response": {
      "type": "object"
    }
  },

  "required": [
    "doc_type",
    "contact"
  ]
}
